<!-- <% layout("/layouts/boilerplate") %>


<%= success %>




<body>

    <h3 style="margin-top: 20px; margin-bottom: 20px;">All Listing</h3>

    <div class="row row-cols-lg-4 row-cols-1 row-cols-sm-2 row-cols-md-3  g-4">
        <% //for(let listing of allListing) { %>
        <div class="col listing-card card">
            <a href="/listings/<%= //listing._id %>">
            <img src="//<%= //listing.image %>" class="card-img-top l-image" alt="Listing Image" style="height: 16rem;">
            <div class="card-img-overlay"></div>
            <div class="card-body mb-2">
                <p class="card-text"> 
                    <b><%= //listing.title %></b> <br>
                    &#8377; //<%= //listing.price.toLocaleString("en-IN") %> / night
                </p>
            </div>

            
            </a>
        </div>
        <%// } %>
    </div>

    
</body> -->


<% layout("/layouts/boilerplate") %>
<style>
 #filters {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap; /* fallback if screen is too small */
    margin: 2rem;

}

.filter-group {
    display: flex;
    flex-wrap: wrap;
    gap: 1.7rem;
    align-items: center;
    margin-top: 1.5rem;

}

.filter {
    text-align: center;
    cursor: pointer;
    opacity: 0.7;
    gap: 1rem;
}

.filter:hover {
    opacity: 1;
}

.tax-switch {
    display: flex;
    align-items: center;
    margin-top: 0.7rem;
    margin-left: 2rem;
    border: 1px solid black !important;
    padding: 11px;
    border-radius: 10px;
}
.tax-info
{
    display: none;
}

</style>

<body>
    <!-- <% //if (success) { %>
        <div class="alert alert-success alert-dismissible fade show mt-3 mx-3" role="alert">
            <%= success %>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    <% // } %> -->

    <%if(success && success.length){%>
    <div class="alert alert-success alert-dismissible fade show col-6 offset-3" role="alert">
   <strong><%= success %></strong> 
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
<%}%>

<%if(error && error.length){%>
    <div class="alert alert-danger alert-dismissible fade show col-6 offset-3" role="alert">
   <strong><%= error %></strong> 
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
<%}%>

    <!-- <h3 style="margin-top: 20px; margin-bottom: 20px;">All Listing</h3> -->

    <div id="filters" class="mt-3">
    <div class="filter-group">
        <div class="filter">
            <div><i class="fa-solid fa-fire"></i></div>
            <p>Trending</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-bed"></i></div>
            <p>Bed</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-mountain-city"></i></div>
            <p>Iconic Cities</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-cow"></i></div>
            <p>Farms</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-mountain-sun"></i></div>
            <p>Mountain</p>
        </div>
        <div class="filter">
            <div><i class="fa-brands fa-fort-awesome"></i></div>
            <p>Castle</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-person-swimming"></i></div>
            <p>Pools</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-campground"></i></div>
            <p>Camping</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-snowflake"></i></div>
            <p>Arctic</p>
        </div>
        <div class="filter">
            <div><i class="fa-solid fa-umbrella-beach"></i></div>
            <p>Beach</p>
        </div>
    </div>

    <div class="tax-switch">
        <div class="form-check-reverse form-switch">
            <input class="form-check-input" type="checkbox" role="switch" id="switchCheckDefault">
            <label class="form-check-label" for="switchCheckDefault">Prices after tax</label>
        </div>
    </div>
</div>




    <div class="row row-cols-lg-4 row-cols-1 row-cols-sm-2 row-cols-md-3 g-4">
        <% for(let listing of allListing) { %>
        <div class="col listing-card card">
            <a href="/listings/<%= listing._id %>">
                <img src="<%= listing.image.url %>" class="card-img-top l-image custom-img" alt="Listing Image" style="height: 18rem;width: 20rem;">
                <div class="card-img-overlay"></div>
                <div class="card-body mb-2">
                    <p class="card-text"> 
                        <b><%= listing.title %></b> <br>
                        &#8377; <%= listing.price.toLocaleString("en-IN") %> / night
                        <i class="tax-info"> &nbsp; +  &nbsp;18% GST</i>
                    </p>
                </div>
            </a>
        </div>
        <% } %>
    </div>
</body>


<script>
    let taxSwitch = document.getElementById("switchCheckDefault");
    taxSwitch.addEventListener("click", () =>
    {
        let taxInfo = document.getElementsByClassName("tax-info");
        for(info of taxInfo)
        {
            if(info.style.display != "inline")
            {
                info.style.display = "inline";
            }else{
                 info.style.display = "none";
            }
            
        }
    });
</script>